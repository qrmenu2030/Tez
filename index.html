<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>TezTayor ‚Äî –î–æ—Å—Ç–∞–≤–∫–∞ –µ–¥—ã</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    /* === –°–±—Ä–æ—Å –∏ –±–∞–∑–æ–≤—ã–µ —Å—Ç–∏–ª–∏ === */
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: 'Arial', sans-serif; background: #fafafa; color: #333; line-height: 1.5; }
    a { text-decoration: none; color: inherit; }
    ul { list-style: none; }
    button { cursor: pointer; border: none; }

    /* === –®–∞–ø–∫–∞ === */
    header { background: #ff5722; color: white; padding: 15px 20px; text-align: center; }
    header h1 { font-size: 1.8rem; }

    nav ul { display: flex; justify-content: center; flex-wrap: wrap; gap: 10px; margin-top: 10px; }
    nav a { padding: 8px 15px; background: white; color: #ff5722; border-radius: 20px; font-size: 0.9rem; transition: 0.3s; }
    nav a:hover { background: #ffe0d1; }

    /* === –ú–µ–Ω—é === */
    .menu { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 20px; padding: 20px; }
    .menu-item { background: white; border-radius: 12px; padding: 15px; box-shadow: 0 2px 6px rgba(0,0,0,0.1); transition: transform 0.2s; }
    .menu-item:hover { transform: translateY(-3px); }
    .menu-item h3 { margin-bottom: 8px; font-size: 1.1rem; }
    .menu-item p { margin-bottom: 10px; color: #666; }
    .menu-item button { width: 100%; padding: 8px; border-radius: 8px; background: #ff5722; color: white; font-size: 0.9rem; }
    .menu-item button:hover { background: #e64a19; }

    /* === –ö–æ—Ä–∑–∏–Ω–∞ === */
    .cart { background: white; padding: 20px; margin: 20px; border-radius: 12px; box-shadow: 0 2px 6px rgba(0,0,0,0.1); }
    .cart h2 { margin-bottom: 15px; }
    .cart ul { margin-bottom: 10px; }
    .cart li { margin-bottom: 5px; font-size: 0.95rem; }
    .cart p { font-weight: bold; margin: 10px 0; }

    /* === –§–æ—Ä–º–∞ –∑–∞–∫–∞–∑–∞ === */
    form { display: flex; flex-direction: column; gap: 10px; }
    input, textarea { padding: 10px; border: 1px solid #ccc; border-radius: 8px; font-size: 0.9rem; }
    textarea { resize: vertical; min-height: 60px; }
    form button { background: #4caf50; padding: 10px; border-radius: 8px; font-size: 1rem; color: white; }
    form button:hover { background: #388e3c; }

    /* === –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å === */
    @media (max-width: 768px) {
      header h1 { font-size: 1.5rem; }
      nav a { font-size: 0.8rem; padding: 6px 12px; }
      .menu { grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); }
    }

    @media (max-width: 480px) {
      header h1 { font-size: 1.3rem; }
      .menu { grid-template-columns: 1fr; }
    }
  </style>
</head>
<body>

  <header>
    <h1>üçî TezTayor</h1>
    <p>–î–æ—Å—Ç–∞–≤–∫–∞ –≤–∫—É—Å–Ω—ã—Ö –±—É—Ä–≥–µ—Ä–æ–≤ –∏ –∑–∞–∫—É—Å–æ–∫</p>
    <nav>
      <ul>
        <li><a href="#" class="category-link" data-category="all">–í—Å–µ</a></li>
        <li><a href="#" class="category-link" data-category="burgers">–ë—É—Ä–≥–µ—Ä—ã</a></li>
        <li><a href="#" class="category-link" data-category="snacks">–ó–∞–∫—É—Å–∫–∏</a></li>
        <li><a href="#" class="category-link" data-category="drinks">–ù–∞–ø–∏—Ç–∫–∏</a></li>
        <li><a href="#" class="category-link" data-category="desserts">–î–µ—Å–µ—Ä—Ç—ã</a></li>
      </ul>
    </nav>
  </header>

  <main>
    <!-- === –ú–µ–Ω—é === -->
    <section class="menu" id="menu">
      <!-- –ë—É—Ä–≥–µ—Ä—ã -->
      <div class="menu-item" data-category="burgers">
        <h3>–ß–∏–∑–±—É—Ä–≥–µ—Ä</h3>
        <p>25000 —Å—É–º</p>
        <button class="add-to-cart" data-name="–ß–∏–∑–±—É—Ä–≥–µ—Ä" data-price="25000">–í –∫–æ—Ä–∑–∏–Ω—É</button>
      </div>
      <div class="menu-item" data-category="burgers">
        <h3>–ë–∏–≥ –ë—É—Ä–≥–µ—Ä</h3>
        <p>35000 —Å—É–º</p>
        <button class="add-to-cart" data-name="–ë–∏–≥ –ë—É—Ä–≥–µ—Ä" data-price="35000">–í –∫–æ—Ä–∑–∏–Ω—É</button>
      </div>
      <div class="menu-item" data-category="burgers">
        <h3>–î–∞–±–ª –ë—É—Ä–≥–µ—Ä</h3>
        <p>45000 —Å—É–º</p>
        <button class="add-to-cart" data-name="–î–∞–±–ª –ë—É—Ä–≥–µ—Ä" data-price="45000">–í –∫–æ—Ä–∑–∏–Ω—É</button>
      </div>

      <!-- –ó–∞–∫—É—Å–∫–∏ -->
      <div class="menu-item" data-category="snacks">
        <h3>–ö–∞—Ä—Ç–æ—à–∫–∞ —Ñ—Ä–∏</h3>
        <p>15000 —Å—É–º</p>
        <button class="add-to-cart" data-name="–ö–∞—Ä—Ç–æ—à–∫–∞ —Ñ—Ä–∏" data-price="15000">–í –∫–æ—Ä–∑–∏–Ω—É</button>
      </div>
      <div class="menu-item" data-category="snacks">
        <h3>–ù–∞–≥–≥–µ—Ç—Å—ã</h3>
        <p>20000 —Å—É–º</p>
        <button class="add-to-cart" data-name="–ù–∞–≥–≥–µ—Ç—Å—ã" data-price="20000">–í –∫–æ—Ä–∑–∏–Ω—É</button>
      </div>

      <!-- –ù–∞–ø–∏—Ç–∫–∏ -->
      <div class="menu-item" data-category="drinks">
        <h3>–ö–æ–ª–∞ 0.5–ª</h3>
        <p>12000 —Å—É–º</p>
        <button class="add-to-cart" data-name="–ö–æ–ª–∞ 0.5–ª" data-price="12000">–í –∫–æ—Ä–∑–∏–Ω—É</button>
      </div>
      <div class="menu-item" data-category="drinks">
        <h3>–°–ø—Ä–∞–π—Ç 0.5–ª</h3>
        <p>12000 —Å—É–º</p>
        <button class="add-to-cart" data-name="–°–ø—Ä–∞–π—Ç 0.5–ª" data-price="12000">–í –∫–æ—Ä–∑–∏–Ω—É</button>
      </div>

      <!-- –î–µ—Å–µ—Ä—Ç—ã -->
      <div class="menu-item" data-category="desserts">
        <h3>–ú–æ—Ä–æ–∂–µ–Ω–æ–µ</h3>
        <p>10000 —Å—É–º</p>
        <button class="add-to-cart" data-name="–ú–æ—Ä–æ–∂–µ–Ω–æ–µ" data-price="10000">–í –∫–æ—Ä–∑–∏–Ω—É</button>
      </div>
      <div class="menu-item" data-category="desserts">
        <h3>–ß–∏–∑–∫–µ–π–∫</h3>
        <p>20000 —Å—É–º</p>
        <button class="add-to-cart" data-name="–ß–∏–∑–∫–µ–π–∫" data-price="20000">–í –∫–æ—Ä–∑–∏–Ω—É</button>
      </div>
    </section>

    <!-- === –ö–æ—Ä–∑–∏–Ω–∞ === -->
    <section class="cart" id="cart">
      <h2>üõí –ö–æ—Ä–∑–∏–Ω–∞</h2>
      <ul id="cart-items"></ul>
      <p><strong>–ò—Ç–æ–≥–æ:</strong> <span id="cart-total">0</span> —Å—É–º</p>

      <form id="checkout-form">
        <input type="text" id="name" placeholder="–í–∞—à–µ –∏–º—è" required>
        <input type="text" id="phone" placeholder="–¢–µ–ª–µ—Ñ–æ–Ω" required>
        <textarea id="address" placeholder="–ê–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏" required></textarea>
        <button type="submit">–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑</button>
      </form>
    </section>
  </main>

  <script>
    (function(){
      let cart = JSON.parse(localStorage.getItem("cart")) || [];
      let currentCategory = "all";

      function saveCart() { localStorage.setItem("cart", JSON.stringify(cart)); }
      function renderCart() {
        const list = document.getElementById("cart-items");
        list.innerHTML = "";
        let total = 0;
        cart.forEach(item => {
          total += item.price * item.quantity;
          const li = document.createElement("li");
          li.textContent = `${item.name} x${item.quantity} - ${item.price * item.quantity} —Å—É–º`;
          list.appendChild(li);
        });
        document.getElementById("cart-total").textContent = total;
      }

      function addToCart(name, price) {
        const item = cart.find(i => i.name === name);
        if (item) item.quantity++;
        else cart.push({ name, price, quantity: 1 });
        saveCart(); renderCart();
      }

      function filterMenu(category) {
        currentCategory = category;
        document.querySelectorAll(".menu-item").forEach(item => {
          item.style.display = (category === "all" || item.dataset.category === category) ? "block" : "none";
        });
      }

      function initEventListeners() {
        document.querySelectorAll(".add-to-cart").forEach(btn => {
          btn.addEventListener("click", () => addToCart(btn.dataset.name, parseInt(btn.dataset.price)));
        });
        document.querySelectorAll(".category-link").forEach(link => {
          link.addEventListener("click", e => { e.preventDefault(); filterMenu(link.dataset.category); });
        });
        document.getElementById("checkout-form").addEventListener("submit", sendOrder);
      }

      // ‚úÖ –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–∫–∞–∑–∞ –≤ Google Script ‚Üí Telegram
      function sendOrder(event) {
        event.preventDefault();
        const name = document.getElementById("name").value.trim();
        const phone = document.getElementById("phone").value.trim();
        const address = document.getElementById("address").value.trim();

        if (!name || !phone || !address || cart.length === 0) {
          alert("–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è –∏ –¥–æ–±–∞–≤—å—Ç–µ —Ç–æ–≤–∞—Ä—ã!");
          return;
        }

        const orderDetails = cart.map(item => `${item.name} x${item.quantity} - ${item.price * item.quantity} —Å—É–º`).join("\n");
        const total = cart.reduce((acc, item) => acc + item.price * item.quantity, 0);

        const payload = { name, phone, address, order: orderDetails, total };

        fetch("https://script.google.com/macros/s/1h8Ky2BYMs0BNzRx3q-ytsttx1OApnaU2mrPudJR817WMtABpr0iq5B6D/exec", {
          method: "POST",
          body: JSON.stringify(payload),
          headers: { "Content-Type": "application/json" }
        })
        .then(res => res.json())
        .then(data => {
          if (data.status === "ok") {
            alert("‚úÖ –ó–∞–∫–∞–∑ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –≤ Telegram!");
            cart = []; saveCart(); renderCart();
            document.getElementById("checkout-form").reset();
          } else alert("‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –∑–∞–∫–∞–∑–∞.");
        })
        .catch(() => alert("‚ö†Ô∏è –û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º."));
      }

      window.addEventListener('load', () => {
        renderCart(); filterMenu(currentCategory); initEventListeners();
      });
    })();
  </script>

</body>
</html>